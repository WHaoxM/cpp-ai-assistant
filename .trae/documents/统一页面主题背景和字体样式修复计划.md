## 1. 统一主题背景与样式

### 1.1 优化App.vue全局样式

* 确保所有页面使用统一的背景图片API：

  * pc端：`https://t.alcy.cc/fj`
  * 移动端：`https://t.alcy.cc/mp 传回来的都是webp格式`

* 统一内容容器的透明度设置为70%，使用`rgba(255, 255, 255, 0.7)`

* 优化背景图显示效果，添加`background-attachment: fixed`和`backdrop-filter: blur(5px)`

* 统一字体设置，确保所有页面使用相同的字体族、大小和行高

* 添加全局字体渲染优化，包括`font-smoothing: antialiased`等属性

### 1.2 修复页面布局与字体问题

* 移除各页面自定义的body和全局样式，统一使用App.vue中的全局样式

* 调整各页面容器的padding和margin，确保页面内容居中对齐

* 统一标题样式（h1-h4），设置一致的字体大小、颜色和间距

* 修复表格、卡片、按钮等组件的样式一致性

* 优化移动端响应式设计，确保在不同设备上显示正常

## 2. 添加心流模型支持

### 2.1 扩展提供商支持

* 在`aiService.js`中添加iflow提供商的支持

* 更新API配置页面，添加iflow提供商选项

* 实现iflow模型的API调用逻辑，使用指定的请求格式：

  ```
  POST https://apis.iflow.cn/v1/chat/completions
  Content-Type: application/json
  Authorization: Bearer <your api key>
  ```

### 2.2 自定义模型功能增强

* 修改自定义模型表单，允许用户手动输入提供商名称

* 移除提供商选择的下拉限制，改为可输入的文本框

* 确保自定义模型可以完全独立于预设提供商配置

* 更新模型调用逻辑，支持动态提供商配置

* 增加字段内容

  > messages  object\[]\
  > messages.content string\
  > messages.role enum<string> user , assistant，ystem

## 3. 修复JS逻辑问题

### 3.1 检查并修复各页面JS逻辑

* **APIConfig.vue**：

  * 修复重置配置函数，确保正确初始化所有提供商配置

  * 修复测试连接逻辑，确保正确处理自定义模型

  * 优化导入模型功能，确保正确保存到自定义模型列表

* **CustomModels.vue**：

  * 修复获取可部署模型列表的分页逻辑，确保获取所有模型

  * 优化模型测试功能，确保正确处理API响应

  * 修复模型保存逻辑，确保所有字段正确保存

* **AIChat.vue**：

  * 修复消息滚动逻辑，确保新消息自动滚动到底部

  * 优化模型切换功能，确保正确更新聊天上下文

  * 修复消息格式化问题，确保Markdown正确渲染

### 3.2 优化AI服务调用逻辑

* 修复`callAIModel`函数，确保正确处理不同提供商的API格式

* 优化URL构建逻辑，确保正确处理baseURL

* 添加详细的错误处理和日志记录

* 确保自定义模型完全独立于默认模型和全局设置

## 4. 增强用户体验

### 4.1 改进自定义模型管理

* 添加模型搜索和过滤功能

* 优化模型列表展示，添加更多模型信息

* 支持批量导入和导出模型配置

### 4.2 优化AI聊天界面

* 实现Markdown渲染功能，确保AI回复正确显示格式化内容

* 添加消息历史记录保存功能

* 优化输入框体验，支持Enter发送和Shift+Enter换行

### 4.3 改进API配置界面

* 添加配置导入/导出功能

* 优化提供商配置展示，使用更直观的UI

* 添加配置验证功能，确保API密钥和URL格式正确

## 5. 测试与调试

### 5.1 功能测试

* 测试所有页面的主题背景是否统一

* 测试自定义模型功能，包括添加、编辑、删除和测试

* 测试心流模型的API调用是否正常

* 测试各页面的JS逻辑是否正常运行

### 5.2 性能优化

* 优化背景图片加载，添加缓存机制

* 优化API请求，减少不必要的网络请求

* 优化组件渲染，提高页面加载速度

### 5.3 兼容性测试

* 测试在不同浏览器中的显示效果

* 测试在不同设备上的响应式表现

* 测试不同分辨率下的显示效果

## 实施步骤

1. 首先优化App.vue的全局样式，确保主题统一
2. 修复各页面的布局和字体问题
3. 扩展自定义模型功能，允许手动输入提供商
4. 添加心流模型支持
5. 修复各页面的JS逻辑问题
6. 进行全面测试和调试
7. 优化用户体验和性能

这个计划将确保AI助手应用的主题统一、功能完善、性能优化，同时提供更好的用户体验。\
不允许修改后端部分
